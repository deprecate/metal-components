define(["exports","metal/src/metal","./incremental-dom"],function(e,n){"use strict";function t(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function l(e,n){u.push(e,n)}function r(e,n,t){u=[e,n,t]}function a(e){var t=i[i.length-1][e];t.apply(null,n.array.slice(arguments,1))}Object.defineProperty(e,"__esModule",{value:!0});var m=function(){function e(){t(this,e)}return e.getOriginalFns=function(){return i[0]},e.startInterception=function(e,n,t){e=e.bind(null,i[0].elementOpen),n=n.bind(null,i[0].elementClose),i.push({attr:l,attributes:t.bind(null,i[0].attributes),elementClose:n,elementOpen:e,elementOpenEnd:function(){return e.apply(null,u)},elementOpenStart:r,elementVoid:function(t){var l=e.apply(null,arguments);return n(t),l}})},e.stopInterception=function(){i.length>1&&i.pop()},e}(),i=[{attr:IncrementalDOM.attr,attributes:IncrementalDOM.attributes[IncrementalDOM.symbols["default"]],elementClose:IncrementalDOM.elementClose,elementOpen:IncrementalDOM.elementOpen,elementOpenEnd:IncrementalDOM.elementOpenEnd,elementOpenStart:IncrementalDOM.elementOpenStart,elementVoid:IncrementalDOM.elementVoid}],u=[];IncrementalDOM.attr=a.bind(null,"attr"),IncrementalDOM.elementClose=a.bind(null,"elementClose"),IncrementalDOM.elementOpen=a.bind(null,"elementOpen"),IncrementalDOM.elementOpenEnd=a.bind(null,"elementOpenEnd"),IncrementalDOM.elementOpenStart=a.bind(null,"elementOpenStart"),IncrementalDOM.elementVoid=a.bind(null,"elementVoid"),IncrementalDOM.attributes[IncrementalDOM.symbols["default"]]=a.bind(null,"attributes"),e["default"]=m});