(function(){this.steel=this.steel||{},this.steelNamed=this.steelNamed||{};var e={};e["typeof"]=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},e.classCallCheck=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.inherits=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},e.possibleConstructorReturn=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},function(){var t=function(){function t(){e.classCallCheck(this,t)}return t.abstractMethod=function(){throw Error("Unimplemented abstract method")},t.collectSuperClassesProperty=function(e,t){for(var n=[e[t]];e.__proto__&&!e.__proto__.isPrototypeOf(Function);)e=e.__proto__,n.push(e[t]);return n},t.getFunctionName=function(e){if(!e.name){var t=e.toString();e.name=t.substring(9,t.indexOf("("))}return e.name},t.getUid=function(e){return e?e[t.UID_PROPERTY]||(e[t.UID_PROPERTY]=t.uniqueIdCounter_++):t.uniqueIdCounter_++},t.identityFunction=function(e){return e},t.isBoolean=function(e){return"boolean"==typeof e},t.isDef=function(e){return void 0!==e},t.isDefAndNotNull=function(e){return t.isDef(e)&&!t.isNull(e)},t.isDocument=function(t){return t&&"object"===("undefined"==typeof t?"undefined":e["typeof"](t))&&9===t.nodeType},t.isElement=function(t){return t&&"object"===("undefined"==typeof t?"undefined":e["typeof"](t))&&1===t.nodeType},t.isFunction=function(e){return"function"==typeof e},t.isNull=function(e){return null===e},t.isNumber=function(e){return"number"==typeof e},t.isWindow=function(e){return null!==e&&e===e.window},t.isObject=function(t){var n="undefined"==typeof t?"undefined":e["typeof"](t);return"object"===n&&null!==t||"function"===n},t.isString=function(e){return"string"==typeof e},t.mergeSuperClassesProperty=function(e,n,r){var i=n+"_MERGED";if(e.hasOwnProperty(i))return!1;var o=t.collectSuperClassesProperty(e,n);return r&&(o=r(o)),e[i]=o,!0},t.nullFunction=function(){},t}();t.UID_PROPERTY="core_"+(1e9*Math.random()>>>0),t.uniqueIdCounter_=1,this.steel.core=t}.call(this),function(){var t=this.steel.core,n=function(){function n(){e.classCallCheck(this,n)}return n.mixin=function(e){for(var t,n,r=1;r<arguments.length;r++){n=arguments[r];for(t in n)e[t]=n[t]}return e},n.getObjectByName=function(e,n){for(var r,i=e.split("."),o=n||window;r=i.shift();){if(!t.isDefAndNotNull(o[r]))return null;o=o[r]}return o},n.map=function(e,t){for(var n={},r=Object.keys(e),i=0;i<r.length;i++)n[r[i]]=t(r[i],e[r[i]]);return n},n}();this.steel.object=n}.call(this),function(){var t=function(){function t(){e.classCallCheck(this,t),this.disposed_=!1}return t.prototype.dispose=function(){this.disposed_||(this.disposeInternal(),this.disposed_=!0)},t.prototype.disposeInternal=function(){},t.prototype.isDisposed=function(){return this.disposed_},t}();this.steel.Disposable=t}.call(this),function(){var t=this.steel.Disposable,n=function(t){function n(r,i,o){e.classCallCheck(this,n);var s=e.possibleConstructorReturn(this,t.call(this));return s.emitter_=r,s.event_=i,s.listener_=o,s}return e.inherits(n,t),n.prototype.disposeInternal=function(){this.removeListener(),this.emitter_=null,this.listener_=null},n.prototype.removeListener=function(){this.emitter_.isDisposed()||this.emitter_.removeListener(this.event_,this.listener_)},n}(t);n.prototype.registerMetalComponent&&n.prototype.registerMetalComponent(n,"EventHandle"),this.steel.EventHandle=n}.call(this),function(){var t=this.steel.EventHandle,n=function(t){function n(r,i,o,s){e.classCallCheck(this,n);var a=e.possibleConstructorReturn(this,t.call(this,r,i,o));return a.capture_=s,a}return e.inherits(n,t),n.prototype.removeListener=function(){this.emitter_.removeEventListener(this.event_,this.listener_,this.capture_)},n}(t);n.prototype.registerMetalComponent&&n.prototype.registerMetalComponent(n,"DomEventHandle"),this.steel.DomEventHandle=n}.call(this),function(){var t=this.steel.core,n=this.steel.object,r=this.steel.DomEventHandle,i=function(){function i(){e.classCallCheck(this,i)}return i.addClasses=function(e,n){t.isObject(e)&&t.isString(n)&&("classList"in e?i.addClassesWithNative_(e,n):i.addClassesWithoutNative_(e,n))},i.addClassesWithNative_=function(e,t){t.split(" ").forEach(function(t){e.classList.add(t)})},i.addClassesWithoutNative_=function(e,t){var n=" "+e.className+" ",r="";t=t.split(" ");for(var i=0;i<t.length;i++){var o=t[i];-1===n.indexOf(" "+o+" ")&&(r+=" "+o)}r&&(e.className=e.className+r)},i.append=function(e,n){if(t.isString(n)&&(n=i.buildFragment(n)),n instanceof NodeList)for(var r=Array.prototype.slice.call(n),o=0;o<r.length;o++)e.appendChild(r[o]);else e.appendChild(n);return n},i.buildFragment=function(e){var t=document.createElement("div");t.innerHTML="<br>"+e,t.removeChild(t.firstChild);for(var n=document.createDocumentFragment();t.firstChild;)n.appendChild(t.firstChild);return n},i.contains=function(e,n){return t.isDocument(e)?e.documentElement.contains(n):e.contains(n)},i.delegate=function(e,t,n,r){var o=i.customEvents[t];return o&&o.delegate&&(t=o.originalEvent,r=o.handler.bind(o,r)),i.on(e,t,i.handleDelegateEvent_.bind(null,n,r))},i.enterDocument=function(e){i.append(document.body,e)},i.exitDocument=function(e){e.parentNode&&e.parentNode.removeChild(e)},i.handleDelegateEvent_=function(e,n,r){i.normalizeDelegateEvent_(r);for(var o=r.target,s=!0;o&&!r.stopped&&(t.isString(e)&&i.match(o,e)&&(r.delegateTarget=o,s&=n(r)),o!==r.currentTarget);)o=o.parentNode;return r.delegateTarget=null,s},i.hasClass=function(e,t){return"classList"in e?i.hasClassWithNative_(e,t):i.hasClassWithoutNative_(e,t)},i.hasClassWithNative_=function(e,t){return e.classList.contains(t)},i.hasClassWithoutNative_=function(e,t){return(" "+e.className+" ").indexOf(" "+t+" ")>=0},i.isEmpty=function(e){return 0===e.childNodes.length},i.match=function(e,t){if(!e||1!==e.nodeType)return!1;var n=Element.prototype,r=n.matches||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector;return r?r.call(e,t):i.matchFallback_(e,t)},i.matchFallback_=function(e,t){for(var n=document.querySelectorAll(t,e.parentNode),r=0;r<n.length;++r)if(n[r]===e)return!0;return!1},i.normalizeDelegateEvent_=function(e){e.stopPropagation=i.stopPropagation_,e.stopImmediatePropagation=i.stopImmediatePropagation_},i.on=function(e,n,o,s){if(t.isString(e))return i.delegate(document,n,e,o);var a=i.customEvents[n];return a&&a.event&&(n=a.originalEvent,o=a.handler.bind(a,o)),e.addEventListener(n,o,s),new r(e,n,o,s)},i.once=function(e,t,n){var r=this.on(e,t,function(){return r.removeListener(),n.apply(this,arguments)});return r},i.registerCustomEvent=function(e,t){i.customEvents[e]=t},i.removeChildren=function(e){for(var t;t=e.firstChild;)e.removeChild(t)},i.removeClasses=function(e,n){t.isObject(e)&&t.isString(n)&&("classList"in e?i.removeClassesWithNative_(e,n):i.removeClassesWithoutNative_(e,n))},i.removeClassesWithNative_=function(e,t){t.split(" ").forEach(function(t){e.classList.remove(t)})},i.removeClassesWithoutNative_=function(e,t){var n=" "+e.className+" ";t=t.split(" ");for(var r=0;r<t.length;r++)n=n.replace(" "+t[r]+" "," ");e.className=n.trim()},i.replace=function(e,t){e&&t&&e!==t&&e.parentNode&&(e.parentNode.insertBefore(t,e),e.parentNode.removeChild(e))},i.stopImmediatePropagation_=function(){this.stopped=!0,Event.prototype.stopImmediatePropagation.call(this)},i.stopPropagation_=function(){this.stopped=!0,Event.prototype.stopPropagation.call(this)},i.supportsEvent=function(e,n){return i.customEvents[n]?!0:(t.isString(e)&&(o[e]||(o[e]=document.createElement(e)),e=o[e]),"on"+n in e)},i.toElement=function(e){return t.isElement(e)||t.isDocument(e)?e:t.isString(e)?"#"===e[0]&&-1===e.indexOf(" ")?document.getElementById(e.substr(1)):document.querySelector(e):null},i.toggleClasses=function(e,n){t.isObject(e)&&t.isString(n)&&("classList"in e?i.toggleClassesWithNative_(e,n):i.toggleClassesWithoutNative_(e,n))},i.toggleClassesWithNative_=function(e,t){t.split(" ").forEach(function(t){e.classList.toggle(t)})},i.toggleClassesWithoutNative_=function(e,t){var n=" "+e.className+" ";t=t.split(" ");for(var r=0;r<t.length;r++){var i=" "+t[r]+" ",o=n.indexOf(i);n=-1===o?n+t[r]+" ":n.substring(0,o)+" "+n.substring(o+i.length)}e.className=n.trim()},i.triggerEvent=function(e,t,r){var i=document.createEvent("HTMLEvents");i.initEvent(t,!0,!0),n.mixin(i,r),e.dispatchEvent(i)},i}(),o={};i.customEvents={},this.steel.dom=i}.call(this),function(){var t=this.steel.core,n=function(){function n(){e.classCallCheck(this,n)}return n.equal=function(e,t){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return e.length===t.length},n.firstDefinedValue=function(e){for(var t=0;t<e.length;t++)if(void 0!==e[t])return e[t]},n.flatten=function(e,t){for(var r=t||[],i=0;i<e.length;i++)Array.isArray(e[i])?n.flatten(e[i],r):r.push(e[i]);return r},n.remove=function(e,t){var r,i=e.indexOf(t);return(r=i>=0)&&n.removeAt(e,i),r},n.removeAt=function(e,t){return 1===Array.prototype.splice.call(e,t,1).length},n.slice=function(e,n,r){for(var i=[],o=t.isDef(r)?r:e.length,s=n;o>s;s++)i.push(e[s]);return i},n}();this.steel.array=n}.call(this),function(){var t=function(){function t(){e.classCallCheck(this,t)}return t.collapseBreakingSpaces=function(e){return e.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")},t.hashCode=function(e){for(var t=0,n=0,r=e.length;r>n;n++)t=31*t+e.charCodeAt(n),t%=4294967296;return t},t.replaceInterval=function(e,t,n,r){return e.substring(0,t)+r+e.substring(n)},t}();this.steel.string=t}.call(this),function(){var t=this.steel.dom,n=this.steel.string,r=function(){function r(){e.classCallCheck(this,r)}return r.checkAnimationEventName=function(){return void 0===r.animationEventName_&&(r.animationEventName_={animation:r.checkAnimationEventName_("animation"),transition:r.checkAnimationEventName_("transition")}),r.animationEventName_},r.checkAnimationEventName_=function(e){for(var t=["Webkit","MS","O",""],i=n.replaceInterval(e,0,1,e.substring(0,1).toUpperCase()),o=[i+"End",i+"End",i+"End",e+"end"],s=0;s<t.length;s++)if(void 0!==r.animationElement_.style[t[s]+i])return t[s].toLowerCase()+o[s];return e+"end"},r.checkAttrOrderChange=function(){if(void 0===r.attrOrderChange_){var e='<div data-component="" data-ref=""></div>',n=document.createElement("div");t.append(n,e),r.attrOrderChange_=e!==n.innerHTML}return r.attrOrderChange_},r}();r.animationElement_=document.createElement("div"),r.animationEventName_=void 0,r.attrOrderChange_=void 0,this.steel.features=r}.call(this),function(){var t=this.steel.dom,n=function(){function n(){e.classCallCheck(this,n)}return n.run=function(e){var t=document.createElement("script");t.text=e,document.head.appendChild(t).parentNode.removeChild(t)},n.runFile=function(e){var n=document.createElement("script");n.src=e,t.on(n,"load",function(){n.parentNode.removeChild(n)}),t.on(n,"error",function(){n.parentNode.removeChild(n)}),document.head.appendChild(n)},n.runScript=function(e){e.parentNode&&e.parentNode.removeChild(e),e.src?n.runFile(e.src):n.run(e.text)},n}();this.steel.globalEval=n}.call(this),function(){var t=this.steel.core,n=this.steel.string,r=function(){function r(){e.classCallCheck(this,r)}return r.compress=function(e){var t={};return e=r.preserveBlocks_(e,t),e=r.simplifyDoctype_(e),e=r.removeComments_(e),e=r.removeIntertagSpaces_(e),e=r.collapseBreakingSpaces_(e),e=r.removeSpacesInsideTags_(e),e=r.removeSurroundingSpaces_(e),e=r.returnBlocks_(e,t),e.trim()},r.collapseBreakingSpaces_=function(e){return n.collapseBreakingSpaces(e)},r.lookupPossibleTagBoundary_=function(e,t){var n=e.indexOf(t);return n>-1&&(n+=e.substring(n).indexOf(">")+1),n},r.preserveBlocks_=function(e,t){return e=r.preserveOuterHtml_(e,"<!--[if","<![endif]-->",t),e=r.preserveInnerHtml_(e,"<code","</code",t),e=r.preserveInnerHtml_(e,"<pre","</pre",t),e=r.preserveInnerHtml_(e,"<script","</script",t),e=r.preserveInnerHtml_(e,"<style","</style",t),e=r.preserveInnerHtml_(e,"<textarea","</textarea",t)},r.preserveInnerHtml_=function(e,t,n,i){for(var o=r.lookupPossibleTagBoundary_(e,t);o>-1;){var s=e.indexOf(n);e=r.preserveInterval_(e,o,s,i),e=e.replace(t,"%%%~1~%%%"),e=e.replace(n,"%%%~2~%%%"),o=r.lookupPossibleTagBoundary_(e,t)}return e=e.replace(/%%%~1~%%%/g,t),e=e.replace(/%%%~2~%%%/g,n)},r.preserveInterval_=function(e,r,i,o){var s="%%%~BLOCK~"+t.getUid()+"~%%%";return o[s]=e.substring(r,i),n.replaceInterval(e,r,i,s)},r.preserveOuterHtml_=function(e,t,n,i){for(var o=e.indexOf(t);o>-1;){var s=e.indexOf(n)+n.length;e=r.preserveInterval_(e,o,s,i),o=e.indexOf(t)}return e},r.removeComments_=function(e){var t={};return e=r.preserveOuterHtml_(e,"<![CDATA[","]]>",t),e=r.preserveOuterHtml_(e,"<!--","-->",t),e=r.replacePreservedBlocks_(e,t,"")},r.removeIntertagSpaces_=function(e){return e=e.replace(r.Patterns.INTERTAG_CUSTOM_CUSTOM,"~%%%%%%~"),e=e.replace(r.Patterns.INTERTAG_CUSTOM_TAG,"~%%%<"),e=e.replace(r.Patterns.INTERTAG_TAG,"><"),e=e.replace(r.Patterns.INTERTAG_TAG_CUSTOM,">%%%~")},r.removeSpacesInsideTags_=function(e){return e=e.replace(r.Patterns.TAG_END_SPACES,"$1$2"),e=e.replace(r.Patterns.TAG_QUOTE_SPACES,"=$1$2$3")},r.removeSurroundingSpaces_=function(e){return e.replace(r.Patterns.SURROUNDING_SPACES,"$1")},r.replacePreservedBlocks_=function(e,t,n){for(var r in t)e=e.replace(r,n);return e},r.simplifyDoctype_=function(e){var t={};return e=r.preserveOuterHtml_(e,"<!DOCTYPE",">",t),e=r.replacePreservedBlocks_(e,t,"<!DOCTYPE html>")},r.returnBlocks_=function(e,t){for(var n in t)e=e.replace(n,t[n]);return e},r}();r.Patterns={INTERTAG_CUSTOM_CUSTOM:/~%%%\s+%%%~/g,INTERTAG_TAG_CUSTOM:/>\s+%%%~/g,INTERTAG_CUSTOM_TAG:/~%%%\s+</g,INTERTAG_TAG:/>\s+</g,SURROUNDING_SPACES:/\s*(<[^>]+>)\s*/g,TAG_END_SPACES:/(<(?:[^>]+?))(?:\s+?)(\/?>)/g,TAG_QUOTE_SPACES:/\s*=\s*(["']?)\s*(.*?)\s*(\1)/g},this.steel.html=r}.call(this),function(){var t=this.steel.core,n=this.steel.array,r=this.steel.Disposable,i=this.steel.EventHandle,o=function(r){function o(){e.classCallCheck(this,o);var t=e.possibleConstructorReturn(this,r.call(this));return t.events_=[],t.maxListeners_=10,t.shouldUseFacade_=!1,t}return e.inherits(o,r),o.prototype.addListener=function(e,t,n){this.validateListener_(t),e=this.normalizeEvents_(e);for(var r=0;r<e.length;r++)this.addSingleListener_(e[r],t,n);return new i(this,e,t)},o.prototype.addSingleListener_=function(e,t,n,r){this.emit("newListener",e,t),this.events_[e]||(this.events_[e]=[]),this.events_[e].push({"default":n,fn:t,origin:r});var i=this.events_[e];i.length>this.maxListeners_&&!i.warned&&(i.warned=!0)},o.prototype.disposeInternal=function(){this.events_=[]},o.prototype.emit=function(e){var t,r=n.slice(arguments,1),i=(this.events_[e]||[]).concat();this.getShouldUseFacade()&&(t={preventDefault:function(){t.preventedDefault=!0},target:this,type:e},r.push(t));for(var o=[],s=0;s<i.length;s++)i[s]["default"]?o.push(i[s]):i[s].fn.apply(this,r);if(!t||!t.preventedDefault)for(var a=0;a<o.length;a++)o[a].fn.apply(this,r);return"*"!==e&&this.emit.apply(this,["*",e].concat(r)),i.length>0},o.prototype.getShouldUseFacade=function(){return this.shouldUseFacade_},o.prototype.listeners=function(e){return(this.events_[e]||[]).map(function(e){return e.fn})},o.prototype.many=function(e,t,n){e=this.normalizeEvents_(e);for(var r=0;r<e.length;r++)this.many_(e[r],t,n);return new i(this,e,n)},o.prototype.many_=function(e,t,n){function r(){0===--t&&i.removeListener(e,r),n.apply(i,arguments)}var i=this;0>=t||i.addSingleListener_(e,r,!1,n)},o.prototype.matchesListener_=function(e,t){return e.fn===t||e.origin&&e.origin===t},o.prototype.normalizeEvents_=function(e){return t.isString(e)?[e]:e},o.prototype.off=function(e,t){this.validateListener_(t),e=this.normalizeEvents_(e);for(var n=0;n<e.length;n++){var r=this.events_[e[n]]||[];this.removeMatchingListenerObjs_(r,t)}return this},o.prototype.on=function(){return this.addListener.apply(this,arguments)},o.prototype.once=function(e,t){return this.many(e,1,t)},o.prototype.removeAllListeners=function(e){if(e)for(var t=this.normalizeEvents_(e),n=0;n<t.length;n++)this.events_[t[n]]=null;else this.events_={};return this},o.prototype.removeMatchingListenerObjs_=function(e,t){for(var n=e.length-1;n>=0;n--)this.matchesListener_(e[n],t)&&e.splice(n,1)},o.prototype.removeListener=function(){return this.off.apply(this,arguments)},o.prototype.setMaxListeners=function(e){return this.maxListeners_=e,this},o.prototype.setShouldUseFacade=function(e){return this.shouldUseFacade_=e,this},o.prototype.validateListener_=function(e){if(!t.isFunction(e))throw new TypeError("Listener must be a function")},o}(r);o.prototype.registerMetalComponent&&o.prototype.registerMetalComponent(o,"EventEmitter"),this.steel.EventEmitter=o}.call(this),function(){var e=this.steel.core,t={};t.throwException=function(e){t.nextTick(function(){throw e})},t.run=function(e,n){t.run.workQueueScheduled_||(t.nextTick(t.run.processWorkQueue),t.run.workQueueScheduled_=!0),t.run.workQueue_.push(new t.run.WorkItem_(e,n))},t.run.workQueueScheduled_=!1,t.run.workQueue_=[],t.run.processWorkQueue=function(){for(;t.run.workQueue_.length;){var e=t.run.workQueue_;t.run.workQueue_=[];for(var n=0;n<e.length;n++){var r=e[n];try{r.fn.call(r.scope)}catch(i){t.throwException(i)}}}t.run.workQueueScheduled_=!1},t.run.WorkItem_=function(e,t){this.fn=e,this.scope=t},t.nextTick=function(n,r){var i=n;return r&&(i=n.bind(r)),i=t.nextTick.wrapCallback_(i),e.isFunction(window.setImmediate)?void window.setImmediate(i):(t.nextTick.setImmediate_||(t.nextTick.setImmediate_=t.nextTick.getSetImmediateEmulator_()),void t.nextTick.setImmediate_(i))},t.nextTick.setImmediate_=null,t.nextTick.getSetImmediateEmulator_=function(){var e=window.MessageChannel;if("undefined"==typeof e&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&(e=function(){var e=document.createElement("iframe");e.style.display="none",e.src="",document.documentElement.appendChild(e);var t=e.contentWindow,n=t.document;n.open(),n.write(""),n.close();var r="callImmediate"+Math.random(),i=t.location.protocol+"//"+t.location.host,o=function(e){(e.origin===i||e.data===r)&&this.port1.onmessage()}.bind(this);t.addEventListener("message",o,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(r,i)}}}),"undefined"!=typeof e){var t=new e,n={},r=n;return t.port1.onmessage=function(){n=n.next;var e=n.cb;n.cb=null,e()},function(e){r.next={cb:e},r=r.next,t.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("script")?function(e){var t=document.createElement("script");t.onreadystatechange=function(){t.onreadystatechange=null,t.parentNode.removeChild(t),t=null,e(),e=null},document.documentElement.appendChild(t)}:function(e){setTimeout(e,0)}},t.nextTick.wrapCallback_=function(e){return e},this.steel.async=t}.call(this),function(){var t=this.steel.array,n=this.steel.core,r=this.steel.object,i=this.steel.EventEmitter,o=this.steel.async,s=function(i){function s(t){e.classCallCheck(this,s);var n=e.possibleConstructorReturn(this,i.call(this));return n.scheduledBatchData_=null,n.attrsInfo_={},n.setShouldUseFacade(!0),n.mergeInvalidAttrs_(),n.addAttrsFromStaticHint_(t),n}return e.inherits(s,i),s.prototype.addAttr=function(e,t,n){this.buildAttrInfo_(e,t,n),Object.defineProperty(this,e,this.buildAttrPropertyDef_(e))},s.prototype.addAttrs=function(e,t,n){t=t||{};for(var r=Object.keys(e),i={},o=0;o<r.length;o++){var s=r[o];this.buildAttrInfo_(s,e[s],t[s]),i[s]=this.buildAttrPropertyDef_(s)}n!==!1&&Object.defineProperties(n||this,i)},s.prototype.addAttrsFromStaticHint_=function(e){var t=this.constructor,n=!1;s.mergeAttrsStatic(t)&&(n=t.prototype),this.addAttrs(t.ATTRS_MERGED,e,n)},s.prototype.assertValidAttrName_=function(e){if(this.constructor.INVALID_ATTRS_MERGED[e])throw new Error("It's not allowed to create an attribute with the name \""+e+'".')},s.prototype.buildAttrInfo_=function(e,t,n){this.assertValidAttrName_(e),this.attrsInfo_[e]={config:t||{},initialValue:n,state:s.States.UNINITIALIZED}},s.prototype.buildAttrPropertyDef_=function(e){return{configurable:!0,enumerable:!0,get:function(){return this.getAttrValue_(e)},set:function(t){this.setAttrValue_(e,t)}}},s.prototype.callFunction_=function(e,t){return n.isString(e)?this[e].apply(this,t):n.isFunction(e)?e.apply(this,t):void 0},s.prototype.callSetter_=function(e,t){var n=this.attrsInfo_[e],r=n.config;return r.setter&&(t=this.callFunction_(r.setter,[t])),t},s.prototype.callValidator_=function(e,t){var n=this.attrsInfo_[e],r=n.config;return r.validator?this.callFunction_(r.validator,[t]):!0},s.prototype.canSetAttribute=function(e){var t=this.attrsInfo_[e];return!t.config.writeOnce||!t.written},s.prototype.disposeInternal=function(){i.prototype.disposeInternal.call(this),this.attrsInfo_=null,this.scheduledBatchData_=null},s.prototype.emitBatchEvent_=function(){if(!this.isDisposed()){var e=this.scheduledBatchData_;this.scheduledBatchData_=null,this.emit("attrsChanged",e)}},s.prototype.get=function(e){return this[e]},s.prototype.getAttrConfig=function(e){return(this.attrsInfo_[e]||{}).config},s.prototype.getAttrs=function(e){for(var t={},n=e||this.getAttrNames(),r=0;r<n.length;r++)t[n[r]]=this[n[r]];return t},s.prototype.getAttrNames=function(){return Object.keys(this.attrsInfo_)},s.prototype.getAttrValue_=function(e){return this.initAttr_(e),this.attrsInfo_[e].value},s.prototype.informChange_=function(e,t){if(this.shouldInformChange_(e,t)){var n={attrName:e,newVal:this[e],prevVal:t};this.emit(e+"Changed",n),this.scheduleBatchEvent_(n)}},s.prototype.initAttr_=function(e){var t=this.attrsInfo_[e];t.state===s.States.UNINITIALIZED&&(t.state=s.States.INITIALIZING,this.setInitialValue_(e),t.written||(t.state=s.States.INITIALIZING_DEFAULT,this.setDefaultValue_(e)),t.state=s.States.INITIALIZED)},s.mergeAttrs_=function(e){return r.mixin.apply(null,[{}].concat(e.reverse()))},s.mergeAttrsStatic=function(e){return n.mergeSuperClassesProperty(e,"ATTRS",s.mergeAttrs_)},s.prototype.mergeInvalidAttrs_=function(){n.mergeSuperClassesProperty(this.constructor,"INVALID_ATTRS",function(e){return t.flatten(e).reduce(function(e,t){return t&&(e[t]=!0),e},{})})},s.prototype.removeAttr=function(e){this.attrsInfo_[e]=null,delete this[e]},s.prototype.scheduleBatchEvent_=function(e){this.scheduledBatchData_||(o.nextTick(this.emitBatchEvent_,this),this.scheduledBatchData_={changes:{}});var t=e.attrName,n=this.scheduledBatchData_.changes;n[t]?n[t].newVal=e.newVal:n[t]=e},s.prototype.set=function(e,t){this[e]=t},s.prototype.setAttrs=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)this[t[n]]=e[t[n]]},s.prototype.setAttrValue_=function(e,t){if(this.canSetAttribute(e)&&this.validateAttrValue_(e,t)){var n=this.attrsInfo_[e];void 0===n.initialValue&&n.state===s.States.UNINITIALIZED&&(n.state=s.States.INITIALIZED);var r=this[e];n.value=this.callSetter_(e,t),n.written=!0,this.informChange_(e,r)}},s.prototype.setDefaultValue_=function(e){var t=this.attrsInfo_[e].config;void 0!==t.value?this[e]=t.value:this[e]=this.callFunction_(t.valueFn)},s.prototype.setInitialValue_=function(e){var t=this.attrsInfo_[e];void 0!==t.initialValue&&(this[e]=t.initialValue,t.initialValue=void 0)},s.prototype.shouldInformChange_=function(e,t){var r=this.attrsInfo_[e];return r.state===s.States.INITIALIZED&&(n.isObject(t)||t!==this[e])},s.prototype.validateAttrValue_=function(e,t){var n=this.attrsInfo_[e];return n.state===s.States.INITIALIZING_DEFAULT||this.callValidator_(e,t)},s}(i);s.prototype.registerMetalComponent&&s.prototype.registerMetalComponent(s,"Attribute"),s.INVALID_ATTRS=["attrs"],s.States={UNINITIALIZED:0,INITIALIZING:1,INITIALIZING_DEFAULT:2,INITIALIZED:3},this.steel.Attribute=s}.call(this),function(){var t=this.steel.core,n=function(){function n(){e.classCallCheck(this,n)}return n.getConstructor=function(e){var t=n.components_[e];return t},n.register=function(e,r){var i=r;i||(i=e.hasOwnProperty("NAME")?e.NAME:t.getFunctionName(e)),e.NAME=i,n.components_[i]=e},n}();n.components_={},this.steel.ComponentRegistry=n}.call(this),function(){var t=this.steel.ComponentRegistry,n=this.steel.Disposable,r=function(n){function r(){return e.classCallCheck(this,r),e.possibleConstructorReturn(this,n.apply(this,arguments))}return e.inherits(r,n),r.prototype.addComponent=function(e){r.components[e.id]=e},r.prototype.createComponent=function(e,n,i){var o=r.components[n];if(!o){var s=t.getConstructor(e),a=i||{};a.id=n,a.element="#"+n,o=new s(a)}return o},r.prototype.removeComponent=function(e){delete r.components[e.id]},r.prototype.updateComponent=function(e,t){var n=r.components[e];return n&&t&&n.setAttrs(t),n},r}(n);r.prototype.registerMetalComponent&&r.prototype.registerMetalComponent(r,"ComponentCollector"),r.components={},this.steel.ComponentCollector=r}.call(this),function(){var t=function(){function t(){e.classCallCheck(this,t)}return t.getSurfaceContent=function(){},t}();this.steel.ComponentRenderer=t}.call(this),function(){var t=this.steel.core,n=this.steel.dom,r=this.steel.Disposable,i=function(r){function i(t,n,o,s){e.classCallCheck(this,i);var a=e.possibleConstructorReturn(this,r.call(this));return a.blacklist_=o||{},a.originEmitter_=t,a.proxiedEvents_={},a.targetEmitter_=n,a.whitelist_=s,a.startProxy_(),a}return e.inherits(i,r),i.prototype.disposeInternal=function(){var e=this.originEmitter_.removeEventListener?"removeEventListener":"removeListener";for(var t in this.proxiedEvents_)this.originEmitter_[e](t,this.proxiedEvents_[t]);this.proxiedEvents_=null,this.originEmitter_=null,this.targetEmitter_=null},i.prototype.proxyEvent_=function(e){if(this.shouldProxyEvent_(e)){var r=this;this.proxiedEvents_[e]=function(){var t=[e].concat(Array.prototype.slice.call(arguments,0));r.targetEmitter_.emit.apply(r.targetEmitter_,t)},t.isElement(this.originEmitter_)||t.isDocument(this.originEmitter_)?n.on(this.originEmitter_,e,this.proxiedEvents_[e]):this.originEmitter_.on(e,this.proxiedEvents_[e])}},i.prototype.shouldProxyEvent_=function(e){return this.whitelist_&&!this.whitelist_[e]?!1:this.blacklist_[e]?!1:!this.proxiedEvents_[e]&&(!(this.originEmitter_.removeEventListener||this.originEmitter_.addEventListener)||n.supportsEvent(this.originEmitter_,e))},i.prototype.startProxy_=function(){this.targetEmitter_.on("newListener",this.proxyEvent_.bind(this))},i}(r);i.prototype.registerMetalComponent&&i.prototype.registerMetalComponent(i,"EventEmitterProxy"),this.steel.EventEmitterProxy=i}.call(this),function(){var t=this.steel.Disposable,n=function(t){function n(){e.classCallCheck(this,n);var r=e.possibleConstructorReturn(this,t.call(this));return r.eventHandles_=[],r}return e.inherits(n,t),n.prototype.add=function(){for(var e=0;e<arguments.length;e++)this.eventHandles_.push(arguments[e])},n.prototype.disposeInternal=function(){this.eventHandles_=null},n.prototype.removeAllListeners=function(){for(var e=0;e<this.eventHandles_.length;e++)this.eventHandles_[e].removeListener();this.eventHandles_=[]},n}(t);n.prototype.registerMetalComponent&&n.prototype.registerMetalComponent(n,"EventHandler"),this.steel.EventHandler=n}.call(this),function(){var t=this.steel.core,n=this.steel.ComponentCollector,r=this.steel.Disposable,i=this.steel.EventHandler,o=function(r){function o(t){e.classCallCheck(this,o);var n=e.possibleConstructorReturn(this,r.call(this));if(!t)throw new Error("The component instance is mandatory");return n.component_=t,n.eventHandles_={},n.groupHasListener_={},n}return e.inherits(o,r),o.prototype.attachListener_=function(e,t,n){var r="[data-on"+e+'="'+t+'"]';if(this.groupHasListener_[n][r]=!0,!this.eventHandles_[r]){this.eventHandles_[r]=new i;for(var o=t.split(","),s=0;s<o.length;s++){var a=this.getListenerFn(o[s]);a&&this.eventHandles_[r].add(this.component_.delegate(e,r,this.onEvent_.bind(this,a)))}}},o.prototype.attachListeners=function(e,t){this.groupHasListener_[t]={},this.attachListenersFromHtml_(e,t)},o.prototype.attachListenersFromHtml_=function(e,t){if(-1!==e.indexOf("data-on"))for(var n=/data-on([a-z]+)=['"]([^'"]+)['"]/g,r=n.exec(e);r;)this.attachListener_(r[1],r[2],t),r=n.exec(e)},o.prototype.detachAllListeners=function(){for(var e in this.eventHandles_)this.eventHandles_[e]&&this.eventHandles_[e].removeAllListeners();this.eventHandles_={},this.listenerCounts_={}},o.prototype.detachUnusedListeners=function(){for(var e in this.eventHandles_)if(this.eventHandles_[e]){var t=!0;for(var n in this.groupHasListener_)if(this.groupHasListener_[n][e]){t=!1;break}t&&(this.eventHandles_[e].removeAllListeners(),this.eventHandles_[e]=null)}},o.prototype.disposeInternal=function(){this.detachAllListeners(),this.component_=null},o.prototype.getListenerFn=function(e){var r,i=e.split(":");return 2===i.length&&(e=i[1],r=n.components[i[0]]),r=r||this.component_,t.isFunction(r[e])?r[e].bind(r):void 0},o.prototype.hasAttachedForGroup=function(e){return!!this.groupHasListener_.hasOwnProperty(e)},o.prototype.onEvent_=function(e,t){var n=t.handledByComponent;return!n||n===this.component_||t.delegateTarget.contains(n.element)?(t.handledByComponent=this.component_,e(t)):void 0},o}(r);o.prototype.registerMetalComponent&&o.prototype.registerMetalComponent(o,"EventsCollector"),this.steel.EventsCollector=o}.call(this),function(){var t=this.steel.object,n=this.steel.Disposable,r=function(n){function r(){e.classCallCheck(this,r);var t=e.possibleConstructorReturn(this,n.call(this));return t.surfaces_={},t}return e.inherits(r,n),r.prototype.addSurface=function(e,t){this.surfaces_[e]?this.updateSurface(e,t):(this.surfaces_[e]=t||{},this.surfaces_[e].surfaceElementId=e)},r.prototype.disposeInternal=function(){this.surfaces_=null},r.prototype.getSurface=function(e){return this.surfaces_[e]?this.surfaces_[e]:null},r.prototype.removeAllSurfaces=function(){this.surfaces_=[]},r.prototype.removeSurface=function(e){this.surfaces_[e]=null},r.prototype.updateSurface=function(e,n){t.mixin(this.surfaces_[e],n)},r}(n);r.prototype.registerMetalComponent&&r.prototype.registerMetalComponent(r,"SurfaceCollector"),this.steel.SurfaceCollector=r}.call(this),function(){var t=this.steel.array,n=this.steel.core,r=this.steel.dom,i=this.steel.features,o=this.steel.globalEval,s=this.steel.html,a=this.steel.object,l=this.steel.string,c=this.steel.Attribute,u=this.steel.ComponentCollector,h=this.steel.ComponentRegistry,p=this.steel.ComponentRenderer,d=this.steel.EventEmitterProxy,f=this.steel.EventHandler,m=this.steel.EventsCollector,_=this.steel.SurfaceCollector,v=function(c){function p(r){e.classCallCheck(this,p);var i=e.possibleConstructorReturn(this,c.call(this,r));return i.collectedSurfaces_=[],i.components={},i.decorating_=!1,i.delegateEventHandler_=null,i.elementEventProxy_=null,i.eventsAttrHandler_=new f,i.eventsCollector_=new m(i),i.generatedIdCount_={},i.inDocument=!1,i.initialConfig_=r||{},i.removedSurfaces_=[],i.surfaceIds_={},i.wasRendered=!1,i.DEFAULT_ELEMENT_PARENT=document.body,n.mergeSuperClassesProperty(i.constructor,"ELEMENT_CLASSES",i.mergeElementClasses_),n.mergeSuperClassesProperty(i.constructor,"ELEMENT_TAG_NAME",t.firstDefinedValue),n.mergeSuperClassesProperty(i.constructor,"RENDERER",t.firstDefinedValue),n.mergeSuperClassesProperty(i.constructor,"SURFACE_TAG_NAME",t.firstDefinedValue),i.addSurfacesFromStaticHint_(),i.delegateEventHandler_=new f,i.created_(),i}return e.inherits(p,c),p.prototype.addListenersFromObj_=function(e){for(var t=Object.keys(e||{}),n=0;n<t.length;n++){var r=this.extractListenerInfo_(e[t[n]]);if(r.fn){var i;i=r.selector?this.delegate(t[n],r.selector,r.fn):this.on(t[n],r.fn),this.eventsAttrHandler_.add(i)}}},p.prototype.addMissingAttr_=function(e,t){this.getAttrConfig(e)||this.addAttr(e,{},t)},p.prototype.addSingleListener_=function(e,t,n){!this.elementEventProxy_&&r.supportsEvent(this.constructor.ELEMENT_TAG_NAME_MERGED,e)&&(this.elementEventProxy_=new d(this.element,this)),
c.prototype.addSingleListener_.call(this,e,t,n)},p.prototype.addElementSurface_=function(){this.surfaceIds_[this.id]||this.addSurface(this.id,{componentName:this.getName()})},p.prototype.addSurface=function(e,t){var n=t||{},r=this.getSurfaceElementId(e,n);return this.surfaceIds_[r]?p.surfacesCollector.updateSurface(r,n):(this.surfaceIds_[r]=!0,n.cacheState=n.cacheState||p.Cache.NOT_INITIALIZED,p.surfacesCollector.addSurface(r,n),n.componentName&&e!==this.id&&this.createSubComponent_(n.componentName,r)),this.cacheSurfaceRenderAttrs_(r,n.renderAttrs),this},p.prototype.addSurfaces=function(e){for(var t in e)this.addSurface(t,e[t]);return this},p.prototype.addSurfacesFromStaticHint_=function(){n.mergeSuperClassesProperty(this.constructor,"SURFACES",this.mergeObjects_),this.surfacesRenderAttrs_={};var e=this.constructor.SURFACES_MERGED;for(var t in e)this.addSurface(t,a.mixin({},e[t]))},p.prototype.addToRemovedSurfaces_=function(e){for(var t=0;t<e.length;t++){var n=this.getSurface(e[t]);this.removedSurfaces_.push(n),n.parent=null}},p.prototype.attach=function(e,t){return this.inDocument||(this.renderElement_(e,t),this.inDocument=!0,this.wasRendered||this.updatePlaceholderSurfaces_(),this.attached()),this},p.prototype.attached=function(){},p.prototype.buildFragment_=function(e){var t=r.buildFragment(e);if(-1===e.indexOf("<script"))return t;for(var n=t.querySelectorAll("script"),i=0;i<n.length;i++){var s=n.item(i);s.type&&"text/javascript"!==s.type||o.runScript(s)}return t},p.prototype.buildPlaceholder=function(e,t){return e&&t&&(t.surfaceElementId=e,this.addSurface(e,t)),"%%%%~s"+(e?"-"+e:"")+"~%%%%"},p.prototype.cacheSurfaceContent=function(e,t){var n=this.computeSurfaceCacheState_(t),r=this.getSurfaceFromElementId(e);r.cacheState=n},p.prototype.cacheSurfaceRenderAttrs_=function(e,t){for(var n=t||[],r=0;r<n.length;r++)this.surfacesRenderAttrs_[n[r]]||(this.surfacesRenderAttrs_[n[r]]={},this.addMissingAttr_(n[r],this.initialConfig_[n[r]])),this.surfacesRenderAttrs_[n[r]][e]=!0},p.prototype.checkHasElementTag_=function(e,t){return-1!==e.indexOf(' id="'+t+'"')},p.prototype.clearSurfaceCache=function(e){this.getSurface(e).cacheState=p.Cache.NOT_INITIALIZED},p.prototype.compareCacheStates_=function(e,t){return e!==p.Cache.NOT_INITIALIZED&&e===t},p.prototype.computeSurfaceCacheState_=function(e){return e=e||"",i.checkAttrOrderChange()&&(e=this.convertHtmlToBrowserFormat_(e)),l.hashCode(e)},p.prototype.convertHtmlToBrowserFormat_=function(e){var t=document.createElement("div");return r.append(t,e),t.innerHTML},p.prototype.createPlaceholderSurface_=function(e,t){var r=t;n.isDefAndNotNull(r)||(r=this.generateSurfaceElementId(e));var i=this.getSurfaceFromElementId(r);return i||(i={surfaceElementId:r},this.addSurface(r,i)),i},p.prototype.createSubComponent_=function(e,t){return this.components[t]=p.componentsCollector.createComponent(e,t,this.getSurfaceFromElementId(t).componentData),this.components[t]},p.prototype.createSurfaceElement_=function(e){var t=document.createElement(this.constructor.SURFACE_TAG_NAME_MERGED);return t.id=e,t},p.prototype.decorateAsSubComponent=function(e){this.decorating_=!0,this.renderAsSubComponent(e),this.decorating_=!1},p.prototype.delegate=function(e,t,n){var i=r.delegate(this.element,e,t,n);return this.delegateEventHandler_.add(i),i},p.prototype.detach=function(){return this.inDocument&&(this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.inDocument=!1,this.detached()),this.eventsCollector_.detachAllListeners(),this},p.prototype.detached=function(){},p.prototype.created_=function(){this.on("eventsChanged",this.onEventsChanged_),this.addListenersFromObj_(this.events),this.on("attrsChanged",this.handleAttributesChanges_),p.componentsCollector.addComponent(this),this.on("renderSurface",this.defaultRenderSurfaceFn_,!0)},p.prototype.decorate=function(){return this.decorating_=!0,this.render(),this.decorating_=!1,this},p.prototype.defaultRenderSurfaceFn_=function(e){var t=e.surfaceElementId,n=this.getSurfaceFromElementId(t);if(n.componentName&&t!==this.id)return void this.renderComponentSurface_(t,e.content);var r=e.content||this.getSurfaceContent_(t),i=e.cacheContent||r,o=n["static"];if(!n["static"]){var s=n.cacheState;this.cacheSurfaceContent(t,i),o=this.compareCacheStates_(n.cacheState,s)}o?this.renderPlaceholderSurfaceContents_(i,t):(this.eventsCollector_.attachListeners(i,t),this.replaceSurfaceContent_(t,n,r))},p.prototype.disposeSubComponents_=function(e){for(var t=0;t<e.length;t++){var n=this.components[e[t]];n.isDisposed()||(p.componentsCollector.removeComponent(n),n.dispose(),delete this.components[e[t]])}},p.prototype.disposeInternal=function(){var e=this;this.detach(),this.elementEventProxy_&&(this.elementEventProxy_.dispose(),this.elementEventProxy_=null),this.delegateEventHandler_.removeAllListeners(),this.delegateEventHandler_=null,this.disposeSubComponents_(Object.keys(this.components)),this.components=null,this.generatedIdCount_=null,this.surfacesRenderAttrs_=null,this.eventsCollector_.dispose(),this.eventsCollector_=null,Object.keys(this.surfaceIds_).forEach(function(t){return e.removeSurface(t)}),this.surfaceIds_=null,c.prototype.disposeInternal.call(this)},p.prototype.emitRenderSurfaceEvent_=function(e,t,n,r){this.emit("renderSurface",{cacheContent:n,content:t,renderAttrs:r||[],surfaceElementId:e,surfaceId:this.getSurfaceId(this.getSurfaceFromElementId(e))})},p.prototype.extractListenerInfo_=function(e){var t={fn:e};return n.isObject(e)&&!n.isFunction(e)&&(t.selector=e.selector,t.fn=e.fn),n.isString(t.fn)&&(t.fn=this.eventsCollector_.getListenerFn(t.fn)),t},p.prototype.syncAttrs_=function(){for(var e=this.getAttrNames(),t=0;t<e.length;t++)this.fireAttrChange_(e[t])},p.prototype.syncAttrsFromChanges_=function(e){for(var t in e)this.fireAttrChange_(t,e[t])},p.prototype.findElementById_=function(e){return document.getElementById(e)||this.element&&this.element.querySelector("#"+e)},p.prototype.findElementInContent_=function(e,t){t=n.isString(t)?r.buildFragment(t):t;var i=t.childNodes[0];return i&&i.id===e?i:void 0},p.prototype.fireAttrChange_=function(e,t){var r=this["sync"+e.charAt(0).toUpperCase()+e.slice(1)];n.isFunction(r)&&(t||(t={newVal:this[e],prevVal:void 0}),r.call(this,t.newVal,t.prevVal))},p.prototype.generateSurfaceElementId=function(e){return this.generatedIdCount_[e]=(this.generatedIdCount_[e]||0)+1,e+"-s"+this.generatedIdCount_[e]},p.prototype.getComponentHtml=function(e){return this.wrapContentIfNecessary(e,this.id,this.constructor.ELEMENT_TAG_NAME_MERGED)},p.prototype.getComponentsWithPrefix=function(e){var t=this,n=Object.keys(this.components).filter(function(t){return 0===t.indexOf(e)}),r={};return n.forEach(function(e){return r[e]=t.components[e]}),r},p.prototype.getName=function(){return this.constructor.NAME||n.getFunctionName(this.constructor)},p.prototype.getElementContent_=function(e){return this.addElementSurface_(),this.getRenderer().getSurfaceContent(this.getSurface(this.id),this,e)},p.prototype.getElementExtendedContent=function(){var e=this.getElementContent_()||"";return this.eventsCollector_.attachListeners(e,this.id),this.cacheSurfaceContent(this.id,e),this.replaceSurfacePlaceholders_(e,this.id,this.getSurface(this.id))},p.prototype.getModifiedSurfacesFromChanges_=function(e){var t={};for(var n in e)for(var r=Object.keys(this.surfacesRenderAttrs_[n]||{}),i=0;i<r.length;i++)t[r[i]]||(t[r[i]]=[]),t[r[i]].push(n);return t},p.prototype.getNonComponentSurfaceHtml=function(e,t){return this.wrapContentIfNecessary(t,e,this.constructor.SURFACE_TAG_NAME_MERGED)},p.prototype.getRenderer=function(){return this.constructor.RENDERER_MERGED},p.prototype.getSurface=function(e){var t=this.getSurfaceFromElementId(this.getSurfaceElementId(e));return t?t:this.getSurfaceFromElementId(e)},p.prototype.getSurfaceContent_=function(e){var t=this.getSurfaceFromElementId(e);if(t.componentName&&e!==this.id){var n=u.components[e];return n.wasRendered?"":n.getElementExtendedContent()}return this.getRenderer().getSurfaceContent(t,this)||""},p.prototype.getSurfaceElement=function(e,t){var n=t||this.getSurface(e);if(!n)return null;if(!n.element)if(n.componentName){var r=u.components[e];r&&(n.element=r.element)}else{var i=this.getSurfaceElementId(e,n);n.element=this.findElementById_(i)||this.createSurfaceElement_(i)}return n.element},p.prototype.getSurfaceElementId=function(e,t){var n=t||{};return n.surfaceElementId?n.surfaceElementId:n.componentName||this.hasComponentPrefix_(e)?e:this.prefixSurfaceId(e)},p.prototype.getSurfaceFromElementId=function(e){return p.surfacesCollector.getSurface(e)},p.prototype.getSurfaceHtml_=function(e,t){var n=e.surfaceElementId;return e.componentName?u.components[n].getComponentHtml(t):this.getNonComponentSurfaceHtml(n,t)},p.prototype.getSurfaceId=function(e){return e.componentName||!this.hasComponentPrefix_(e.surfaceElementId)?e.surfaceElementId:e.surfaceElementId.substr(this.id.length+1)},p.prototype.getSurfaces=function(){var e={};return Object.keys(this.surfaceIds_).forEach(function(t){var n=this.getSurfaceFromElementId(t);e[this.getSurfaceId(n)]=n}.bind(this)),e},p.prototype.handleAttributesChanges_=function(e){this.inDocument&&this.renderSurfacesContent_(this.getModifiedSurfacesFromChanges_(e.changes)),this.syncAttrsFromChanges_(e.changes),this.emit("attrsSynced",e)},p.prototype.hasComponentPrefix_=function(e){return e.substr(0,this.id.length)===this.id&&(e.length===this.id.length||"-"===e[this.id.length])},p.prototype.onEventsChanged_=function(e){this.eventsAttrHandler_.removeAllListeners(),this.addListenersFromObj_(e.newVal)},p.prototype.makeId_=function(){return"metal_c_"+n.getUid(this)},p.prototype.mergeElementClasses_=function(e){var t={};return e.filter(function(e){return!e||t[e]?!1:(t[e]=!0,!0)}).join(" ")},p.prototype.mergeObjects_=function(e){return a.mixin.apply(null,[{}].concat(e.reverse()))},p.prototype.prefixSurfaceId=function(e){return this.id+"-"+e},p.prototype.registerMetalComponent=function(e,t){h.register(e,t)},p.prototype.removeSurface=function(e){var t=this.getSurfaceElement(e);t&&t.parentNode&&t.parentNode.removeChild(t);var n=this.getSurfaceElementId(e,this.getSurface(e));return p.surfacesCollector.removeSurface(n),this.surfaceIds_[n]=!1,this},p.prototype.removeUnusedSurfaces_=function(){for(var e=[],t=0;t<this.removedSurfaces_.length;t++){var n=this.removedSurfaces_[t];n.parent||(this.removeSurface(n.surfaceElementId),n.componentName&&e.push(n.surfaceElementId))}this.disposeSubComponents_(e)},p.prototype.render=function(e,t){if(this.wasRendered)throw new Error(p.Error.ALREADY_RENDERED);return this.addElementSurface_(),this.renderContent_(),this.syncAttrs_(),this.emit("render"),this.attach(e,t),this.wasRendered=!0,this},p.prototype.renderAsSubComponent=function(e){this.addElementSurface_(),e&&r.isEmpty(this.element)&&this.replaceElementContent_(e),this.syncAttrs_(),this.attach(),this.wasRendered=!0},p.prototype.renderComponentSurface_=function(e,t){var n=u.components[e];if(n.wasRendered){var r=this.getSurfaceFromElementId(e);p.componentsCollector.updateComponent(e,r.componentData)}else this.decorating_?n.decorateAsSubComponent(t):n.renderAsSubComponent(t)},p.prototype.renderContent_=function(){var e=this.id;if(this.decorating_){var t=this.getElementExtendedContent(),n=this.computeSurfaceCacheState_(t),r=this.computeSurfaceCacheState_(s.compress(this.element.outerHTML));this.compareCacheStates_(r,n)||this.replaceElementContent_(t)}else this.emitRenderSurfaceEvent_(e)},p.prototype.renderElement_=function(e,t){var n=this.element;if(n.id=this.id,t||!n.parentNode){var i=r.toElement(e)||this.DEFAULT_ELEMENT_PARENT;i.insertBefore(n,r.toElement(t))}},p.prototype.renderPlaceholderSurfaceContents_=function(e,t){var n=this;e.replace(p.SURFACE_REGEX,function(e,r){var i=n.createPlaceholderSurface_(t,r);return n.emitRenderSurfaceEvent_(i.surfaceElementId),e})},p.prototype.renderSurfacesContent_=function(e){this.generatedIdCount_={},this.removedSurfaces_=[];var t=Object.keys(e),n=t.indexOf(this.id);-1!==n&&(t.splice(n,1),t=[this.id].concat(t));for(var r=0;r<t.length;r++)this.getSurfaceFromElementId(t[r]).handled||this.emitRenderSurfaceEvent_(t[r],null,null,e[t[r]]);this.updatePlaceholderSurfaces_(),this.eventsCollector_.detachUnusedListeners(),this.removeUnusedSurfaces_()},p.prototype.replaceElementContent_=function(e){var t=this.element,n=this.buildFragment_(e),i=this.findElementInContent_(this.id,n);i&&(this.updateElementAttributes_(t,i),n=i.childNodes),r.removeChildren(t),r.append(t,n)},p.prototype.replaceSurfaceContent_=function(e,t,n){if(n=this.replaceSurfacePlaceholders_(n,e,t),e===this.id)return void this.replaceElementContent_(n);var i=this.getSurfaceElement(e),o=this.buildFragment_(n),s=this.findElementInContent_(e,o);s?(t.element=s,r.replace(i,t.element)):(r.removeChildren(i),r.append(i,o))},p.prototype.replaceSurfacePlaceholders_=function(e,t,n){n.componentName&&t!==this.id||(this.addToRemovedSurfaces_(n.children||[]),n.children=[]);var r=this;return e.replace(p.SURFACE_REGEX,function(e,i){var o=r.createPlaceholderSurface_(t,i);i=o.surfaceElementId,o.handled=!0,o.parent=t,n.children.push(i);var s=r.getSurfaceContent_(i),a=r.getSurfaceHtml_(o,s),l=r.replaceSurfacePlaceholders_(a,i,o);return r.collectedSurfaces_.push({cacheContent:s,content:l,surface:o}),l})},p.prototype.setterElementFn_=function(e){var t=r.toElement(e);return t||(t=this.valueElementFn_()),t},p.prototype.syncElementClasses=function(e,t){var n=this.constructor.ELEMENT_CLASSES_MERGED;e&&(n=n+" "+e),t&&r.removeClasses(this.element,t),r.addClasses(this.element,n)},p.prototype.syncVisible=function(e){this.element.style.display=e?"":"none"},p.prototype.updateElementAttributes_=function(e,t){for(var n=t.attributes,r=0;r<n.length;r++)"id"!==n[r].name&&"class"!==n[r].name&&e.setAttribute(n[r].name,n[r].value);e.tagName!==t.tagName},p.prototype.updatePlaceholderSurface_=function(e){var t=e.surface,n=t.surfaceElementId;t.componentName?(r.replace(this.findElementById_(n),this.getSurfaceElement(n,t)),this.emitRenderSurfaceEvent_(n,e.content,e.cacheContent)):(t.element=null,this.cacheSurfaceContent(n,e.cacheContent),this.eventsCollector_.attachListeners(e.cacheContent,n))},p.prototype.updatePlaceholderSurfaces_=function(){for(var e=this.collectedSurfaces_.length-1;e>=0;e--)this.updatePlaceholderSurface_(this.collectedSurfaces_[e]),this.collectedSurfaces_[e].surface.handled=!1;this.collectedSurfaces_=[]},p.prototype.validatorElementFn_=function(e){return n.isElement(e)||n.isString(e)},p.prototype.validatorElementClassesFn_=function(e){return n.isString(e)},p.prototype.validatorEventsFn_=function(e){return!n.isDefAndNotNull(e)||n.isObject(e)},p.prototype.validatorIdFn_=function(e){return n.isString(e)},p.prototype.valueElementFn_=function(){this.id||(this.id=this.makeId_());var e=this.findElementInContent_(this.id,this.getElementContent_(!0)||"");return e||(e=this.findElementInContent_(this.id,this.getComponentHtml(""))),r.removeChildren(e),r.exitDocument(e),e},p.prototype.valueIdFn_=function(){var e=this.element;return e&&e.id?e.id:this.makeId_()},p.prototype.wrapContentIfNecessary=function(e,t,n){return this.checkHasElementTag_(e,t)||(e="<"+n+' id="'+t+'">'+e+"</"+n+">"),e},p}(c);v.prototype.registerMetalComponent&&v.prototype.registerMetalComponent(v,"Component"),v.componentsCollector=new u,v.surfacesCollector=new _,v.ATTRS={element:{setter:"setterElementFn_",validator:"validatorElementFn_",valueFn:"valueElementFn_",writeOnce:!0},elementClasses:{validator:"validatorElementClassesFn_"},events:{validator:"validatorEventsFn_",value:null},id:{validator:"validatorIdFn_",valueFn:"valueIdFn_",writeOnce:!0},visible:{validator:n.isBoolean,value:!0}},v.ELEMENT_CLASSES="component",v.ELEMENT_TAG_NAME="div",v.RENDERER=p,v.SURFACE_REGEX=/\%\%\%\%~s(?:-([^~:]+))?~\%\%\%\%/g,v.SURFACE_TAG_NAME="div",v.Cache={NOT_INITIALIZED:-2},v.Error={ALREADY_RENDERED:"Component already rendered"},v.INVALID_ATTRS=["components","elementContent"],this.steel.Component=v}.call(this),function(){var t={},n=function(){function n(){e.classCallCheck(this,n)}return n.get=function(e,r){return e?r?n.get(e)[r]:t[e]||{}:t},n.set=function(e,n){t[e]=n},n}();this.steel.SoyTemplates=n}.call(this),function(){var e=this.steel.SoyTemplates,t={interceptFn_:null,getOriginalFn:function(e){return e.originalFn?e.originalFn:e},handleTemplateCall_:function(e,n,r,i,o,s){return t.interceptFn_?t.interceptFn_.call(null,e,n,r,i,o,s):r.call(null,i,o,s)},registerTemplates:function(n){var r=e.get(n);Object.keys(r).forEach(function(e){var i=r[e];i.originalFn||(r[e]=t.handleTemplateCall_.bind(null,n,e,i),r[e].originalFn=i)})},startInterception:function(e){t.interceptFn_=e},stopInterception:function(){t.interceptFn_=null}};this.steel.SoyAop=t}.call(this),function(){var t=this.steel.core,n=this.steel.dom,r=this.steel.object,i=this.steel.Component,o=this.steel.ComponentRegistry,s=this.steel.ComponentRenderer,a=this.steel.SoyAop,l=this.steel.SoyTemplates,c={},u=function(s){function u(){return e.classCallCheck(this,u),e.possibleConstructorReturn(this,s.apply(this,arguments))}return e.inherits(u,s),u.addSurfacesFromTemplates_=function(e){for(var t=e.getName(),n=l.get(t),r=Object.keys(n),i=0;i<r.length;i++){var o=r[i],s=a.getOriginalFn(n[o]);if(u.isSurfaceTemplate_(o,s)){var c="content"===o?e.id:o;e.addSurface(c,{renderAttrs:s.params,templateComponentName:t,templateName:o})}}},u.buildComponentConfigData_=function(e,t){var n={id:e};for(var r in t)n[r]=t[r];return n},u.buildTemplateData_=function(e){var n=e.getAttrNames().filter(function(e){return"element"!==e}),i=e.getSurface(e.id),o=i&&i.componentData?i.componentData:{},s=r.map(e.getAttrs(n),function(n,r){return e.getAttrConfig(n).isHtml&&t.isString(r)?u.sanitizeHtml(r):r});return r.mixin(o,s)},u.createComponentFromTemplate=function(s,c,h){var p=c?n.toElement(c):null,d=r.mixin({id:p?p.id:null},h,{element:p}),f="TemplateComponent"+t.getUid(),m=function(t){function n(){return e.classCallCheck(this,n),e.possibleConstructorReturn(this,t.apply(this,arguments))}return e.inherits(n,t),n}(i);return m.prototype.registerMetalComponent&&m.prototype.registerMetalComponent(m,"TemplateComponent"),m.RENDERER=u,o.register(m,f),l.set(f,{content:function(e,t,n){return a.getOriginalFn(s)(d,t,n)}}),a.registerTemplates(f),new m(d)},u.decorateFromTemplate=function(e,t,n){return u.createComponentFromTemplate(e,t,n).decorate()},u.generateSurfaceElementId=function(e,t,n){return n.templateName&&t===e.id&&!u.firstSurfaceFound_[n.templateName]?(u.firstSurfaceFound_[n.templateName]=!0,e.prefixSurfaceId(n.templateName)):e.generateSurfaceElementId(t)},u.getSurfaceContent=function(e,t,n){e.surfaceElementId===t.id&&(e.renderAttrs||this.addSurfacesFromTemplates_(t),u.firstSurfaceFound_={}),u.surfaceBeingRendered_=e.surfaceElementId,u.skipInnerCalls_=u.skipInnerCalls_||n;var r=e.templateData;e.templateData=null;var i=u.renderTemplateByName_(t,e.templateComponentName,e.templateName,r);return u.surfaceBeingRendered_=null,u.skipInnerCalls_=!1,i},u.handleComponentCall_=function(e,t,n){var r={componentName:t},i=(n||{}).id;return i||(i=u.generateSurfaceElementId(e,u.surfaceBeingRendered_,r)),r.componentData=u.buildComponentConfigData_(i,n),e.buildPlaceholder(i,r)},u.handleInterceptedCall_=function(e,t,n,r,i,o,s){return u.skipInnerCalls_?"":"content"===n?this.handleComponentCall_.call(this,e,t,i):this.handleSurfaceCall_.call(this,e,t,n,r,i,o,s)},u.handleSurfaceCall_=function(e,n,r,i,o,s,a){var l,c={"static":i["static"],templateComponentName:n,templateData:o,templateName:r};if(t.isDefAndNotNull(o.surfaceElementId))l=o.surfaceElementId;else if(t.isDefAndNotNull(o.surfaceId))l=e.getSurfaceElementId(o.surfaceId.toString());else{if(i["private"])return i.call(null,o,s,a);l=u.generateSurfaceElementId(e,u.surfaceBeingRendered_,c)}return e.buildPlaceholder(l,c)},u.isSurfaceTemplate_=function(e,t){return"__deltemplate"!==e.substr(0,13)&&!t["private"]},u.renderFromTemplate=function(e,t,n){return u.createComponentFromTemplate(e,t,n).render()},u.renderTemplate_=function(e,t,n){a.startInterception(u.handleInterceptedCall_.bind(u,e)),t=a.getOriginalFn(t);var r=t(n||u.buildTemplateData_(e),null,c).content;return a.stopInterception(),r},u.renderTemplateByName_=function(e,n,r,i){var o=l.get(n,r);return t.isFunction(o)?u.renderTemplate_(e,o,i):void 0},u.sanitizeHtml=function(e){return soydata.VERY_UNSAFE.ordainSanitizedHtml(e)},u.setInjectedData=function(e){c=e||{}},u}(s);u.prototype.registerMetalComponent&&u.prototype.registerMetalComponent(u,"SoyRenderer");var h=soydata.SanitizedHtml.from;soydata.SanitizedHtml.from=function(e){return e&&"HTML"===e.contentKind&&(e=u.sanitizeHtml(e.content)),h(e)},this.steel.SoyRenderer=u}.call(this),function(){var t=this.steel.Component,n=this.steel.SoyAop,r=this.steel.SoyRenderer,i=this.steel.SoyTemplates,o=i.get();"undefined"==typeof o.Alert&&(o.Alert={}),o.Alert.content=function(e,t,n){return soydata.VERY_UNSAFE.ordainSanitizedHtml('<div id="'+soy.$$escapeHtmlAttribute(e.id)+'" class="alert alert-dismissible component'+soy.$$escapeHtmlAttribute(e.elementClasses?" "+e.elementClasses:"")+'" role="alert">'+o.Alert.dismiss(e,null,n)+o.Alert.body(e,null,n)+"</div>")},goog.DEBUG&&(o.Alert.content.soyTemplateName="Templates.Alert.content"),o.Alert.body=function(e,t,n){return soydata.VERY_UNSAFE.ordainSanitizedHtml('<div id="'+soy.$$escapeHtmlAttribute(e.id)+'-body">'+(e.body?soy.$$escapeHtml(e.body):"")+"</div>")},goog.DEBUG&&(o.Alert.body.soyTemplateName="Templates.Alert.body"),o.Alert.dismiss=function(e,t,n){return soydata.VERY_UNSAFE.ordainSanitizedHtml('<div id="'+soy.$$escapeHtmlAttribute(e.id)+'-dismiss">'+(e.dismissible?'<button type="button" class="close" aria-label="Close" data-onclick="toggle"><span aria-hidden="true"></span></button>':"")+"</div>")},goog.DEBUG&&(o.Alert.dismiss.soyTemplateName="Templates.Alert.dismiss"),o.Alert.content.params=["id"],o.Alert.body.params=["body","id"],o.Alert.dismiss.params=["dismissible","id"];var s=function(t){function n(){return e.classCallCheck(this,n),e.possibleConstructorReturn(this,t.apply(this,arguments))}return e.inherits(n,t),n}(t);s.prototype.registerMetalComponent&&s.prototype.registerMetalComponent(s,"Alert"),s.RENDERER=r,n.registerTemplates("Alert"),this.steel.Alert=s}.call(this),function(){var e=this.steel.dom,t=this.steel.features,n={mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"};Object.keys(n).forEach(function(t){e.registerCustomEvent(t,{delegate:!0,handler:function(e,n){var r=n.relatedTarget,i=n.delegateTarget;return!r||r!==i&&!i.contains(r)?(n.customType=t,e(n)):void 0},originalEvent:n[t]})});var r={animation:"animationend",transition:"transitionend"};Object.keys(r).forEach(function(n){var i=r[n];e.registerCustomEvent(i,{event:!0,delegate:!0,handler:function(e,t){return t.customType=i,e(t)},originalEvent:t.checkAnimationEventName()[n]})})}.call(this),function(){var t=this.steel.core,n=this.steel.dom,r=this.steel.features,i=function(){function i(){e.classCallCheck(this,i)}return i.emulateEnd=function(e,t){return this.getComputedDurationMs(e,"animation")>this.getComputedDurationMs(e,"transition")?this.emulateEnd_(e,"animation",t):this.emulateEnd_(e,"transition",t)},i.emulateAnimationEnd=function(e,t){return this.emulateEnd_(e,"animation",t)},i.emulateTransitionEnd=function(e,t){this.emulateEnd_(e,"transition",t)},i.emulateEnd_=function(e,i,o){var s=o;t.isDef(o)||(s=this.getComputedDurationMs(e,i));var a=setTimeout(function(){n.triggerEvent(e,r.checkAnimationEventName()[i])},s),l=function(){clearTimeout(a),c.removeListener()},c=n.once(e,i+"end",l);return{abort:l}},i.getComputedDurationMs=function(e,t){return 1e3*(parseFloat(window.getComputedStyle(e,null).getPropertyValue(t+"-duration"))||0)},i}();this.steel.Anim=i}.call(this),function(){var t=this.steel.core,n=this.steel.dom,r=this.steel.Alert,i=this.steel.Anim,o=this.steel.EventHandler,s=function(r){function s(t){e.classCallCheck(this,s);var n=e.possibleConstructorReturn(this,r.call(this,t));return n.eventHandler_=new o,n}return e.inherits(s,r),s.prototype.detached=function(){r.prototype.detached.call(this),this.eventHandler_.removeAllListeners(),clearTimeout(this.delay_)},s.prototype.close=function(){n.once(this.element,"animationend",this.dispose.bind(this)),n.once(this.element,"transitionend",this.dispose.bind(this)),this.eventHandler_.removeAllListeners(),this.syncVisible(!1)},s.prototype.handleDocClick_=function(e){this.element.contains(e.target)||this.hide()},s.prototype.hide=function(){this.visible=!1},s.prototype.toggle=function(){this.visible=!this.visible},s.prototype.syncDismissible=function(e){e?this.eventHandler_.add(n.on(document,"click",this.handleDocClick_.bind(this))):this.eventHandler_.removeAllListeners(),n[e?"addClasses":"removeClasses"](this.element,"alert-dismissible")},s.prototype.syncVisible=function(e){n.removeClasses(this.element,this.animClasses[e?"hide":"show"]),n.addClasses(this.element,this.animClasses[e?"show":"hide"]),i.emulateEnd(this.element),e&&t.isNumber(this.hideDelay)&&this.syncHideDelay(this.hideDelay)},s.prototype.syncHideDelay=function(e){t.isNumber(e)&&this.visible&&(clearTimeout(this.delay_),this.delay_=setTimeout(this.hide.bind(this),e))},s}(r);s.prototype.registerMetalComponent&&s.prototype.registerMetalComponent(s,"Alert"),s.ELEMENT_CLASSES="alert",s.ATTRS={animClasses:{validator:t.isObject,value:{show:"fade in",hide:"fade"}},body:{value:""},dismissible:{validator:t.isBoolean,value:!0},elementClasses:{value:"alert-success"},hideDelay:{},visible:{value:!1}},this.steel.Alert=s}.call(this)}).call(this);